# ユースケース

## UC1: 新しいタスクを始める

1. プロジェクトのディレクトリで `tvine .` を実行
2. tvine が起動し、セッション一覧が表示される
3. 「+ New」を押す
4. ベースブランチとブランチ名を入力して作成
  a. 必要に応じてスロットを選択する
  b. スロットがない場合はスロット作成モーダルも起動する
5. worktree が作られ、スロットのテンプレートファイルが配置され、作成時コマンドが実行される
6. 作成したセッションが選択され、Claude Code が起動して中央の端末に表示される
7. Claude Code にタスクの指示を入力して作業開始

## UC2: 作業中のセッションを切り替える

1. 左のセッション一覧で別のセッションをクリック
2. 中央の Claude 端末が選択したセッションに切り替わる
3. 差分表示も選択したセッションのものに切り替わる

## UC3: セッションの状況を把握する

1. セッション一覧のステータスを見る（Busy/Waiting/Idle）
2. Waiting のセッションがあればクリックして確認・承認する
3. Idle のセッションがあればクリックして次の指示を入力する

## UC4: 差分を確認する

1. Changes パネルを開く
2. 変更ファイルのツリーが表示される
3. ファイルをクリックすると unified diff が表示される
4. 内容を確認し、必要なら Claude Code に修正を指示する
5. 必要に応じて、コピーするために選択できる。

## UC5: ターミナルで作業する

1. ターミナルパネルを開く
2. 選択中の worktree ディレクトリでシェルが起動している
3. docker compose up やテスト実行等を行う

## UC6: タスクを完了して片付ける

1. PR を出す等の作業を終えたらセッションの削除ボタンを押す
2. 確認モーダルが表示される
3. 確認すると、Claude Code とターミナルが停止し、削除時コマンドが実行され、worktree が削除される
4. スロットが解放され、セッション一覧から消える

## UC7: tvine を再起動する

1. tvine を閉じて再度 `tvine .` で起動する
2. 以前のセッション一覧が復元される
3. セッションをクリックすると Claude Code が --resume で再接続される
