# 差分表示

## 概要

右側の Changes パネル。選択中セッションの worktree で変更されたファイルと差分を表示する。
VSCode の git 欄のようなイメージ。

## 表示内容

- 変更ファイルのツリー（ディレクトリ構造付き）
  - M（変更）/ A（追加）/ D（削除）バッジ付き
  - それぞれのステータスによって色の変更
- ファイルをクリックすると unified diff を表示
  - 行番号、+/- の色分け、hunk header
- diff のテキストは選択・コピー可能

## 差分の取得方法

`git diff HEAD` で worktree の変更を取得する（staged + unstaged）。

## 更新タイミング

ポーリングで定期的に `git diff` を再取得する。
ユーザーの手動編集やターミナルからの変更も拾えるし、将来の詳細モード（Monaco Editor）でも同じ仕組みで動く。

## 開閉

- トグルで開閉できる
- 閉じた状態ではアイコンバーが残る
- アイコンバーをクリックで再び開く
