# 概要

## ゴール

worktree + Claude Code の開発を快適にする。
普段使っているところで tvine . を行うとアプリが起動し、１セッションに対して worktree と Claude Code が簡単にセットアップされる状態を目指す。
この時、各セッションごとにステータスが表示され、どれがプロンプト待ちなのか、承認待ちなのかがわかるようにする。
また、個人が使っている Claude Code の体験が各セッションでそのままになるようにする。

## 想定ユーザー

自分。まず自分が日常的に使えるものを作る。
可能なら今働いているチームの人も使えるようにする。

## 前提条件

- Claude Code がインストールされていること
- git が使えること
- macOS（Tauri のビルド対象。他 OS は後回し）

## スコープ

- セッション一覧（worktree の状態を一覧表示）
- セッション作成（ベースブランチを選んで worktree をセットアップ）
- セッション削除（worktree の片付け）
- Claude 端末（Claude Code を PTY + xterm.js でそのまま表示）
- 差分表示（選択中セッションの git diff を表示）
  - 対象の tree も表示されていること（vscode の git 欄のイメージ）
- 汎用ターミナル（docker compose up 等を実行する場所）
- ステータス管理（Claude Code の Busy/Waiting/Idle を検出・表示）
- スロット管理（テンプレートファイルの配置、作成時/削除時コマンド）
  - worktree 作成時にスロットに登録したファイルを一緒に配置する（.env, override 等）
  - セッションの作成時、削除時に特定のコマンドを実行できるようにする

## スコープ外

- 詳細モード（Monaco Editor、サイドバイサイド diff、File タブ）
- IME 対応（PTY 方式では Claude Code 側の問題）
- Windows / Linux 対応
- ショートカット
- スリープ（入力待ちが長時間続いた場合のリソース最適化）
- ドラッグリサイズ
- ライトモード
- 既存 worktree のインポート（tvine 外で作成された worktree の取り込み）
